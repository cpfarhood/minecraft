apiVersion: v1
kind: ConfigMap
metadata:
  name: mc-proxy
data:
  velocity.toml: |
    config-version = "2.7"

    bind = "0.0.0.0:25577"
    motd = "Velocity Proxy"
    show-max-players = 12
    online-mode = true
    force-key-authentication = true
    prevent-client-proxy-connections = false

    player-info-forwarding-mode = "modern"
    forwarding-secret-file = "forwarding.secret"

    # ----------------------------
    # BACKEND SERVERS (menu-visible)
    # ----------------------------
    [servers]
    rlcraft = "rlcraft.mc.farh.net:25565"
    bmc-4 = "bmc-4.mc.farh.net:25565"
    bmc-5 = "bmc-5.mc.farh.net:25565"
    atm-10 = "atm-10.mc.farh.net:25565"
    prom-ii = "prom-ii.mc.farh.net:25565"
    cursed-walking = "cursed-walking.mc.farh.net:25565"

    # Always-on fallback servers
    lobby = "lobby:25565"
    limbo = "picolimbo:25565"

    # ----------------------------
    # AUTOMATIC CONNECT / FALLBACK
    # Only servers you want auto-attempted
    # ----------------------------
    try = [
      "lobby",
      "limbo"
    ]

    # ----------------------------
    # ADVANCED
    # ----------------------------
    [advanced]
    login-ratelimit = 3000
    compression-threshold = 256
    compression-level = -1
